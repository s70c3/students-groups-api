# üìò Students & Groups API

RESTful API –Ω–∞ FastAPI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –∏ –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö –≥—Ä—É–ø–ø.

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                               |
|-------------------|-----------------------------------------------------------|
| **FastAPI**       | –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è REST API                               |
| **SQLAlchemy**    | ORM –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å PostgreSQL                      |
| **Pydantic v2**   | –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π                         |
| **PostgreSQL**    | –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö                                          |
| **Docker**        | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è                                          |
| **docker-compose**| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (FastAPI + PostgreSQL)             |

---

## üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### `/students`
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å               | –û–ø–∏—Å–∞–Ω–∏–µ                             |
|-------|--------------------|--------------------------------------|
| POST  | `/students`        | –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞                    |
| GET   | `/students`        | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø–æ–∏—Å–∫     |
| GET   | `/students/{id}`   | –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ ID             |
| PUT   | `/students/{id}`   | –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—É–¥–µ–Ω—Ç–µ      |
| DELETE| `/students/{id}`   | –£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ ID              |

### `/groups`
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
|-------|---------------------|---------------------------------------------------|
| POST  | `/groups`           | –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ä–æ–¥–∏—Ç–µ–ª–µ–º         |
| GET   | `/groups`           | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ä–µ–≤–æ –≥—Ä—É–ø–ø –∏–ª–∏ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –ø–æ `query` |
| GET   | `/groups/{id}`      | –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É –≥—Ä—É–ø–ø—É –ø–æ ID                       |
| PUT   | `/groups/{id}`      | –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä–æ–¥–∏—Ç–µ–ª—å)             |
| DELETE| `/groups/{id}`      | –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É, –µ—Å–ª–∏ —É –Ω–µ—ë –Ω–µ—Ç –ø–æ–¥–≥—Ä—É–ø–ø          |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

- `main.py`: —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –ª–æ–≥–∏–∫–∞ API, SQLAlchemy –º–æ–¥–µ–ª–∏ `Student`, `Group`, Pydantic-—Å—Ö–µ–º—ã `StudentCreate`, `GroupOut`, `GroupFlatOut`
- `Dockerfile`: —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `docker-compose.yml`: —Å–µ—Ä–≤–∏—Å—ã FastAPI –∏ PostgreSQL

---

## üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ –ï–¥–∏–Ω—ã–π endpoint `GET /groups` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏–±–æ –¥–µ—Ä–µ–≤–æ, –ª–∏–±–æ –ø–ª–æ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ `query`
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã —Å –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏ (`409 Conflict`)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ–ª—å–∑—è –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª–µ–º —Å–∞–º—É —Å–µ–±—è
- ‚úÖ –í—Å–µ —Å–≤—è–∑–∏ –∏ —Ç–∏–ø—ã —Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `parent_id` ‚Üí `int | null`)

---

## üê≥ –ó–∞–ø—É—Å–∫ —Å Docker

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/s70c3/students-groups-api.git
cd students-groups-api
```

2. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
docker-compose up --build
```

3. –û—Ç–∫—Ä—ã—Ç—å Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
[http://localhost:8000/docs](http://localhost:8000/docs)

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
DATABASE_URL=postgresql://postgres:postgres@db:5432/postgres
```
(–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ `docker-compose.yml`)

---

## üìå –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

### –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É:
```json
POST /groups
{
  "name": "Root"
}
```

### –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—É:
```json
POST /groups
{
  "name": "Child",
  "parent_id": 1
}
```

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ä–µ–≤–æ:
```http
GET /groups
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License
